{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useSnackbar } from \"notistack\";\nimport { logIn } from '../utils/api';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\n\nconst index = ({\n  user\n}) => {\n  const router = useRouter();\n  const {\n    0: isloadin,\n    1: setIsloadin\n  } = useState(false);\n  const {\n    0: formDta,\n    1: setFormDta\n  } = useState({\n    password: \"\",\n    email: \"\"\n  });\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  useEffect(() => {\n    console.log(user.uid);\n\n    if (user) {\n      router.push('/home');\n    }\n  }, [user]);\n\n  const handlerChange = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setFormDta(_objectSpread(_objectSpread({}, formDta), {}, {\n      [name]: value\n    }));\n  };\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n\n    if (!formDta.email || !formDta.password) {\n      enqueueSnackbar(\"Completa los campos\", {\n        variant: \"error\"\n      });\n      return false;\n    }\n\n    setIsloadin(true);\n    logIn(formDta).then(response => {\n      setIsloadin(false);\n\n      if (response.error) {\n        enqueueSnackbar(response.message, {\n          variant: \"error\"\n        });\n      } else {\n        //cookie.set('user',JSON.stringify(response))\n        router.push('/home');\n        window.location.replace('/home');\n      }\n    }).catch(err => {\n      console.log(err);\n      enqueueSnackbar(\"Error del servidor\", {\n        variant: \"error\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"SEANI UTT\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"limiter\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container-login100\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"wrap-login100\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"login100-pic js-tilt\",\n            \"data-tilt\": \"\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"https://colorlib.com/etc/lf/Login_v1/images/img-01.png\",\n              alt: \"IMG\"\n            })\n          }), /*#__PURE__*/_jsxs(\"form\", {\n            onChange: handlerChange,\n            onSubmit: handlerSubmit,\n            className: \"login100-form\",\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: \"login100-form-title\",\n              children: \"Login\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": null,\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                className: \"input100\",\n                type: \"text\",\n                name: \"email\",\n                placeholder: \"Email\"\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"focus-input100\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": null,\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                //className=\"input100\"\n                type: \"password\",\n                name: \"password\",\n                placeholder: \"Password\"\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: \"focus-input100\"\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"container-login100-form-btn\",\n              children: isloadin ? /*#__PURE__*/_jsx(CircularProgress, {\n                color: \"secondary\"\n              }) : /*#__PURE__*/_jsx(\"button\", {\n                className: \"login100-form-btn\",\n                children: \"Login\"\n              })\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\n\nexport default index; //validate-form\n//alert-validate","map":null,"metadata":{},"sourceType":"module"}